(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Efw9:function(e,t,n){"use strict";n.r(t),n.d(t,"LazyGoogleWorkSpaceModule",(function(){return He}));var a=n("47kq"),r=n("OZ4H"),o=n("sEIs"),i=n("B0EF"),s=n("EM62"),c=n("lDuV");let l=(()=>{class e{constructor(e,t){this.productApiService=e,this.router=t,this.isLoading=!0,this.getGoogleWorkSpaceProductList()}ngOnInit(){}getGoogleWorkSpaceProductList(){this.productApiService.getGoogleWorkSpaceProductList().subscribe(e=>{this.productsCount=e.productsCount,this.productList=e.products,this.isLoading=!1,1===this.productsCount?this.router.navigate(["/google-workspace/google-workspace-details"],{queryParams:{instanceId:e.products[0].productInstanceId,productCode:e.products[0].productCode}}):this.router.navigate(["/google-workspace/google-workspace-list"],{state:{productsCount:this.productsCount,productList:this.productList}})})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](i.ProductApiService),s["\u0275\u0275directiveInject"](o.d))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["lz-google-workspace"]],decls:1,vars:1,consts:[["role","main","loaderSplash","",1,"main-content",3,"loader"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"main",0),2&e&&s["\u0275\u0275property"]("loader",t.isLoading)},directives:[c.a],styles:[".google-workspace-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{padding-top:40px!important}.google-workspace-list[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--amm-theme-primary--dark1)}.google-workspace-list[_ngcontent-%COMP%]   .back-to-top[_ngcontent-%COMP%]{text-align:right}.google-workspace-list[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}@media screen and (max-width:599px){.reg-google-workspace-list[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none!important}.reg-google-workspace-list[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:block!important}}.mobile-options[_ngcontent-%COMP%]   .sticky-mobile-btns[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;padding:0 10px 10px;top:82px;margin:0 -10px;z-index:99}"]}),e})();var d=n("FlRo"),m=n("SKbq"),u=function(e){return e.Active="check_circle_outline",e.PendingSetup="timelapse",e.Contact="person",e.Inactive="error_outline",e.Pending="timelapse",e.Locked="lock_outline",e.UnLocked="lock_open",e.Linked="link",e.Unlinked="link_off",e.Compliant="public",e.NonCompliant="public_off",e.Calendar="event",e.ExpirationActive="hourglass_top",e.ExpirationProtected="hourglass_empty",e.ExpirationUnProtected="hourglass_disabled",e.AutoRenewEnabled="update",e.AutoRenewDisabled="update_disabled",e}({}),p=function(e){return e.Active="Active",e.Inactive="Inactive",e.PendingSetup="Pending Setup",e.Suspended="Suspended",e.Expired="Expired",e.TransferOut="Pending Transfer",e.TransferRegistrant="Pending Transfer",e.TransferAccount="Pending Transfer",e.Redemption="Redemption",e.Paused="Paused",e.SetupProcessing="Setup Processing",e}({}),g=function(e){return e[e.Active=0]="Active",e[e.Inactive=1]="Inactive",e[e.PendingSetup=2]="PendingSetup",e[e.Suspended=3]="Suspended",e[e.Expired=4]="Expired",e[e.TransferOut=5]="TransferOut",e[e.TransferRegistrant=6]="TransferRegistrant",e[e.TransferAccount=7]="TransferAccount",e[e.Redemption=8]="Redemption",e[e.Paused=9]="Paused",e[e.SetupProcessing=10]="SetupProcessing",e}({});class h{static getGwStatusType(e){const t=this.toPascalCase(e);return g[t]}static toPascalCase(e){return e?m.h.getEnumKeyByEnumValue(g,e):null}static domainStatusIcon(e){switch(e){case g.Active:return u.Active;case g.Inactive:case g.Expired:case g.Redemption:case g.Suspended:return u.Inactive;case g.TransferAccount:case g.TransferOut:case g.PendingSetup:case g.SetupProcessing:case g.TransferRegistrant:return u.Pending;default:return u.Inactive}}static domainStatusCss(e){switch(e){case g.Active:return a.SharedCharmState.Normal;case g.Inactive:return a.SharedCharmState.Alert;case g.PendingSetup:case g.SetupProcessing:return a.SharedCharmState.Warn;case g.Expired:case g.Redemption:case g.Suspended:return a.SharedCharmState.Alert;case g.TransferAccount:case g.TransferOut:case g.TransferRegistrant:return a.SharedCharmState.Warn;default:return a.SharedCharmState.None}}}var v=n("cePI"),w=n("GAih"),x=n("qFEQ"),f=n("PBFl"),S=n("2kYt"),C=n("bFHC"),y=n("Y2X+"),b=n("Jb3d");function E(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",27),s["\u0275\u0275elementStart"](1,"div",28),s["\u0275\u0275elementStart"](2,"h2",29),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("All My Plans (",e.productsCount,")")}}function P(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-header-cell",30),s["\u0275\u0275elementStart"](1,"h3",31),s["\u0275\u0275text"](2,"Domain Assigned"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mat-icon",32),s["\u0275\u0275text"](4," arrow_upward "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}const I=function(){return["/google-workspace/google-workspace-details"]},T=function(e,t){return{instanceId:e,productCode:t}};function O(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"mat-cell",33),s["\u0275\u0275elementStart"](1,"div",34),s["\u0275\u0275elementStart"](2,"p",35),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p",36,37),s["\u0275\u0275listener"]("mouseenter",(function(t){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](5);return s["\u0275\u0275nextContext"]().toggleEllipsisTooltip(t,n)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",38),s["\u0275\u0275elementStart"](7,"button",39),s["\u0275\u0275elementStart"](8,"mat-icon"),s["\u0275\u0275text"](9,"more_vert"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"mat-menu",null,40),s["\u0275\u0275elementStart"](12,"button",41),s["\u0275\u0275text"](13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=s["\u0275\u0275reference"](11);s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("",e.productName," Plan"),s["\u0275\u0275advance"](1),s["\u0275\u0275propertyInterpolate"]("matTooltip",e.domainName),s["\u0275\u0275propertyInterpolate"]("innerHTML",e.domainName,s["\u0275\u0275sanitizeHtml"]),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("matMenuTriggerFor",n),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction0"](7,I))("queryParams",s["\u0275\u0275pureFunction2"](8,T,e.productInstanceId,e.productCode)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.actions," ")}}function _(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-header-cell",30),s["\u0275\u0275elementStart"](1,"h3",31),s["\u0275\u0275text"](2,"Google Workspace Plan"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mat-icon",32),s["\u0275\u0275text"](4," arrow_upward "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function D(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-cell",42),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.productName,"")}}function A(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-header-cell",30),s["\u0275\u0275elementStart"](1,"h3",31),s["\u0275\u0275text"](2,"Account Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mat-icon",32),s["\u0275\u0275text"](4," arrow_upward "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-cell"),s["\u0275\u0275elementStart"](1,"div",34),s["\u0275\u0275elementStart"](2,"p"),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p",43),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"](" ",e.accountName?e.accountName:e.accountHolderName," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",e.accountId," ")}}function N(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-header-cell",44),s["\u0275\u0275elementStart"](1,"h3",31),s["\u0275\u0275text"](2,"Status"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mat-icon",32),s["\u0275\u0275text"](4," arrow_upward "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-cell",45),s["\u0275\u0275elementStart"](1,"div",46),s["\u0275\u0275elementStart"](2,"div",47),s["\u0275\u0275elementStart"](3,"mat-icon",48),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275classMap"](n.gwStatusCss(e.status)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.gwStatusIcon(e.status)," "),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",n.gwStatusLabels[e.status]||e.status," ")}}function L(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-header-cell",30),s["\u0275\u0275elementStart"](1,"h3",31),s["\u0275\u0275text"](2,"Renewal Date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"mat-icon",32),s["\u0275\u0275text"](4," arrow_upward "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",55),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().$implicit,t=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("ngClass",t.gwStatusCss(e.status)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",t.gwStatusLabels[e.status]||e.status,"")}}function R(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",43),s["\u0275\u0275text"](1," Auto-Renews "),s["\u0275\u0275elementEnd"]())}function B(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",56),s["\u0275\u0275text"](1," Expired "),s["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",43),s["\u0275\u0275text"](1," Expires "),s["\u0275\u0275elementEnd"]())}function W(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-cell",49),s["\u0275\u0275elementStart"](1,"div",34),s["\u0275\u0275template"](2,U,2,2,"p",50),s["\u0275\u0275elementStart"](3,"div",51),s["\u0275\u0275template"](4,R,2,0,"p",52),s["\u0275\u0275template"](5,B,2,0,"p",53),s["\u0275\u0275template"](6,F,2,0,"p",52),s["\u0275\u0275elementStart"](7,"p",54),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf","Active"!==e.status),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",e.autoRenew&&"Expired"!==e.status),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","Expired"===e.status),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!e.autoRenew&&"Expired"!==e.status),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngClass","Expired"===e.status?"u-textDanger":""),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.expiryDate," ")}}function G(e,t){1&e&&s["\u0275\u0275element"](0,"mat-header-cell")}function j(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"mat-cell",57),s["\u0275\u0275elementStart"](1,"button",58),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction0"](3,I))("queryParams",s["\u0275\u0275pureFunction2"](4,T,e.productInstanceId,e.productCode)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.actions," ")}}function z(e,t){1&e&&s["\u0275\u0275element"](0,"mat-header-row")}function V(e,t){1&e&&s["\u0275\u0275element"](0,"mat-row",59)}let H=(()=>{class e{constructor(e,t,n,a){if(this.brandService=e,this.router=t,this.productApiService=n,this.userAPIService=a,this.productList=new d.p,this.productData=[],this.gwStatusLabels=p,this.isLargeUser=!1,this.displayedColumns=["domainName","productName","status","expiryDate","actions"],this.orderByStatusArray=["Expired","Suspended","PendingSetup","SetupProcessing","Active"],this.columnToDisplay={domainName:"Domain Assigned",productName:"Google Workspace Plan",accountName:"Account Name",status:"Status",expiryDate:"Renewal Date"},this.isLoading=!1,this.brand=e.getBrandFromQuerySelectors(),this.router.getCurrentNavigation()&&this.router.getCurrentNavigation().extras&&this.router.getCurrentNavigation().extras.state){const e=this.router.getCurrentNavigation().extras.state.productList;this.orderByStatusArray.forEach(t=>{e.forEach(e=>{e.status===t&&this.productData.push(e)})}),this.setProductAction(),this.productsCount=this.router.getCurrentNavigation().extras.state.productsCount}else this.isLoading=!0,this.getGoogleWorkSpaceProductList()}setProductAction(){this.productData.forEach(e=>{e.productName.indexOf("Google Workspace ")>-1&&(e.productName=e.productName.split("Google Workspace ")[1]),"PendingSetup"!==e.status?e.actions="Manage":"PendingSetup"===e.status&&(e.actions="Setup")}),this.userAPIService.getUserInfoFullDetails().subscribe(e=>{this.isLargeUser=e.accountThresholdExceeded||e.productsThresholdExceeded,e.isSingleAccount||(this.displayedColumns=["domainName","productName","accountName","status","expiryDate","actions"])}),this.productList=new d.p(this.productData)}getGoogleWorkSpaceProductList(e){let t=null;e&&this.sortCriteria&&this.sortCriteria.length&&(t={sortCriteria:this.sortCriteria,sortDirection:this.sortDirection}),this.productApiService.getGoogleWorkSpaceProductList(t).subscribe(t=>{this.productsCount=t.productsCount,e?this.productData=t.products:this.orderByStatusArray.forEach(e=>{t.products.forEach(t=>{t.status===e&&this.productData.push(t)})}),this.setProductAction(),this.isLoading=!1,1===this.productsCount&&this.router.navigate(["/google-workspace/google-workspace-details"],{queryParams:{instanceId:t.products[0].productInstanceId,productCode:t.products[0].productCode}})})}ngOnInit(){}onSort(e){switch(e.active){case"domainName":this.sortCriteria=i.gwSortCriteriaType.DomainName;break;case"accountName":this.sortCriteria=i.gwSortCriteriaType.AccountName;break;case"productName":this.sortCriteria=i.gwSortCriteriaType.ProductName;break;case"expiryDate":this.sortCriteria=i.gwSortCriteriaType.ExpirationDate;break;case"status":this.sortCriteria=i.gwSortCriteriaType.Status;break;default:return}this.sortDirection="asc"===e.direction?i.SortDirectionType.Asce:i.SortDirectionType.Desc,this.isLoading=!0,this.getGoogleWorkSpaceProductList(!0)}buyMore(){const e=this.brandService.getAbsoluteDomainUrl();switch(this.brand){case a.Brand.NetSol:window.location.href=e+"/email/google-workspace";break;case a.Brand.Register:window.location.href=e+"/email-account/google-workspace";break;case a.Brand.Web:case a.Brand.WebUK:window.location.href=e+"/email-service/google-workspace";break;case a.Brand.Bluehost:case a.Brand.Hostgator:window.location.href=e+"/google-workspace"}}gwStatusCss(e){return h.domainStatusCss(g[e])}gwStatusIcon(e){return h.domainStatusIcon(g[e])}toggleEllipsisTooltip(e,t){t.disabled=!(e.target.scrollWidth>e.target.clientWidth)}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](a.BrandService),s["\u0275\u0275directiveInject"](o.d),s["\u0275\u0275directiveInject"](i.ProductApiService),s["\u0275\u0275directiveInject"](i.UserAPIService))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["lz-google-workspace-list"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275viewQuery"](v.a,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.sort=n.first)},decls:32,vars:6,consts:[["ngClass.gt-xs","gw-table","ngClass.xs","gw-view-mobile"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","space-between left right","ngClass.gt-xs","u-marginAl"],["fxFlex",""],[1,"gw-headings","u-textSize28","u-textWeightNormal","u-marginVn","title","u-textPrimaryDark"],[1,"gw-headings","u-textSize28"],["mat-flat-button","","color","secondary",3,"click"],["fxLayout","column","ngClass.gt-xs","u-marginAl","ngClass.xs","mobile-options",1,"gw-list"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between left right","class","header","style","flex: 1 2",4,"ngIf"],["loaderSplash","",1,"gw-responsive",3,"loader"],["matSort","",3,"dataSource","matSortChange"],["matColumnDef","domainName"],["mat-sort-header","",4,"matHeaderCellDef"],["fxLayoutAlign.xs","start center","ngClass.xs","u-textSize16 gw-card-header-mobile",4,"matCellDef"],["matColumnDef","productName"],["fxLayoutAlign.xs","start center","fxHide.xs","",4,"matCellDef"],["matColumnDef","accountName"],[4,"matCellDef"],["matColumnDef","status"],["mat-sort-header","","fxHide.xs","",4,"matHeaderCellDef"],["fxLayoutAlign.xs","center start","ngClass.xs","gw-card-content-mobile","fxHide.xs","",4,"matCellDef"],["matColumnDef","expiryDate"],["fxLayoutAlign.xs","row","ngClass.xs","u-marginBl",4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["fxHide.xs","",4,"matCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["ngClass.lt-sm","Card u-paddingAn",4,"matRowDef","matRowDefColumns"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between left right",1,"header",2,"flex","1 2"],["fxLayout","column","ngClass.xs","u-paddingLm"],["fxHide.xs","",1,"u-textSemiBold","count-title"],["mat-sort-header",""],[1,"u-marginAn"],[1,"u-marginLm","header-arrow-icon"],["fxLayoutAlign.xs","start center","ngClass.xs","u-textSize16 gw-card-header-mobile"],["fxLayout","column"],["fxHide.gt-xs","",1,"mat-body-2","u-marginBn"],["ngClass.gt-xs","mat-body-2","matTooltipPosition","above","matTooltipClass","down-arrow",1,"u-marginAn","u-textEllipsize","tooltip",3,"matTooltip","innerHTML","mouseenter"],["productNameTooltip","matTooltip"],["fxShow.lt-sm","","fxHide","",1,"menu-btn"],["mat-icon-button","","color","primary","aria-label","Options",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","color","primary",1,"reg-accounts-user-mange-btn",3,"routerLink","queryParams"],["fxLayoutAlign.xs","start center","fxHide.xs",""],[1,"u-textSize16"],["mat-sort-header","","fxHide.xs",""],["fxLayoutAlign.xs","center start","ngClass.xs","gw-card-content-mobile","fxHide.xs",""],["fxLayout","row"],[1,"status-cell"],["ngClass.gt-xs","u-marginLm"],["fxLayoutAlign.xs","row","ngClass.xs","u-marginBl"],["fxHide.gt-xs","","class","mat-body-2 u-marginBn u-textUppercase",3,"ngClass",4,"ngIf"],["fxLayout.xs","row","fxLayout","column"],["class","u-textSize16",4,"ngIf"],["class","expiry u-textUppercase u-textSize16",4,"ngIf"],[1,"u-marginLs",3,"ngClass"],["fxHide.gt-xs","",1,"mat-body-2","u-marginBn","u-textUppercase",3,"ngClass"],[1,"expiry","u-textUppercase","u-textSize16"],["fxHide.xs",""],["mat-flat-button","","color","primary",1,"reg-accounts-user-mange-btn",3,"routerLink","queryParams"],["ngClass.lt-sm","Card u-paddingAn"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"h1",3),s["\u0275\u0275text"](4,"Google Workspace "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",4),s["\u0275\u0275elementStart"](6,"button",5),s["\u0275\u0275listener"]("click",(function(){return t.buyMore()})),s["\u0275\u0275text"](7,"Buy More Google Workspace"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"div",6),s["\u0275\u0275template"](9,E,4,1,"div",7),s["\u0275\u0275elementStart"](10,"div",8),s["\u0275\u0275elementStart"](11,"mat-table",9),s["\u0275\u0275listener"]("matSortChange",(function(e){return t.onSort(e)})),s["\u0275\u0275elementContainerStart"](12,10),s["\u0275\u0275template"](13,P,5,0,"mat-header-cell",11),s["\u0275\u0275template"](14,O,14,11,"mat-cell",12),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](15,13),s["\u0275\u0275template"](16,_,5,0,"mat-header-cell",11),s["\u0275\u0275template"](17,D,2,1,"mat-cell",14),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](18,15),s["\u0275\u0275template"](19,A,5,0,"mat-header-cell",11),s["\u0275\u0275template"](20,k,6,2,"mat-cell",16),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](21,17),s["\u0275\u0275template"](22,N,5,0,"mat-header-cell",18),s["\u0275\u0275template"](23,M,7,5,"mat-cell",19),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](24,20),s["\u0275\u0275template"](25,L,5,0,"mat-header-cell",11),s["\u0275\u0275template"](26,W,9,6,"mat-cell",21),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementContainerStart"](27,22),s["\u0275\u0275template"](28,G,1,0,"mat-header-cell",23),s["\u0275\u0275template"](29,j,3,7,"mat-cell",24),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275template"](30,z,1,0,"mat-header-row",25),s["\u0275\u0275template"](31,V,1,0,"mat-row",26),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngIf",!t.isLargeUser),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("loader",t.isLoading),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("dataSource",t.productList),s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns))},directives:[w.a,x.f,x.e,x.b,f.b,S.t,c.a,d.o,v.a,d.c,d.i,d.b,d.k,d.n,w.c,d.h,v.b,C.a,d.a,y.a,b.d,b.e,b.b,o.e,S.q,d.j,d.m],styles:[".mat-drawer-container[_ngcontent-%COMP%]{background-color:var(--dc-theme-grey--light4)!important}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]{display:block;width:100%;overflow:auto}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:99.8%;max-width:100%;display:table;margin:0}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%], .gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{display:table-row}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{position:-webkit-sticky!important;position:sticky!important;top:0}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{max-width:200px!important}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:78px!important}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{height:56px!important}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:16px;padding:0 10px 0 6px!important;word-wrap:normal;display:table-cell;line-break:unset;margin:0;width:auto;white-space:nowrap;overflow:hidden;vertical-align:middle;border-bottom:1px solid var(--dc-theme-grey--light2)}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type, .gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:27px!important}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]:first-of-type{border-right:1px solid var(--dc-theme-grey--light2)}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-table-sticky[_ngcontent-%COMP%]:last-of-type{border-left:1px solid var(--dc-theme-grey--light2)}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .expiry[_ngcontent-%COMP%]{color:var(--mdc-theme-error);font-style:normal;font-weight:700}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .sticky-column-high[_ngcontent-%COMP%]{z-index:10!important}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .sticky-column-low[_ngcontent-%COMP%]{z-index:2!important}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.gw-table[_ngcontent-%COMP%]   .gw-responsive[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:block!important}.gw-list[_ngcontent-%COMP%]{background-color:var(--dc-theme-white)}@media screen and (min-width:599px){.gw-list[_ngcontent-%COMP%]{background-color:var(--dc-theme-white);box-shadow:0 4px 6px rgba(0,0,0,.06),0 2px 4px rgba(0,0,0,.12);border-radius:4px;padding:24px!important}.gw-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:row;flex:1}.gw-list[_ngcontent-%COMP%]   .count-title[_ngcontent-%COMP%]{color:var(--dc-theme-grey)}}.gw-headings[_ngcontent-%COMP%]{font-style:normal;line-height:36px;letter-spacing:-.8px!important;margin:54px 0 14px!important}.back-to-top[_ngcontent-%COMP%]{text-align:right}.mobile-only[_ngcontent-%COMP%]{display:none}.gw-view-mobile[_ngcontent-%COMP%]{background-color:var(--dc-theme-grey--light4)!important}.gw-view-mobile[_ngcontent-%COMP%]   .mat-drawer-container[_ngcontent-%COMP%]{background-color:var(--dc-theme-grey--light4)}.gw-view-mobile[_ngcontent-%COMP%]   .gw-card-header-mobile[_ngcontent-%COMP%]{background:var(--amm-theme-secondary--light3,#e4eff1);height:54px;padding-left:18px;width:100%}.gw-view-mobile[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{margin-left:110px}.gw-view-mobile[_ngcontent-%COMP%]   .gw-card-content-mobile[_ngcontent-%COMP%]{min-height:54px;width:91%;border-color:var(--dc-theme-grey--light2)!important;margin-left:16px!important;margin-right:16px!important}.gw-view-mobile[_ngcontent-%COMP%]   .gw-card-footer-mobile[_ngcontent-%COMP%]{min-height:78px;padding:0 16px;width:100%;border:none}.status-cell[_ngcontent-%COMP%]{margin-right:10px}.material-icons.normal[_ngcontent-%COMP%]{color:var(--dc-theme-success)}.material-icons.warn[_ngcontent-%COMP%]{color:var(--dc-theme-warning)}.material-icons.alert[_ngcontent-%COMP%]{color:var(--mdc-theme-error)}p.warn[_ngcontent-%COMP%]{color:var(--dc-theme-warning--dark)}p.alert[_ngcontent-%COMP%]{color:var(--mdc-theme-error)}@media screen and (max-width:599px){.reg-google-workspace-list[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none!important}.reg-google-workspace-list[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:block!important}.gw-headings[_ngcontent-%COMP%]{font-style:normal;line-height:36px;letter-spacing:-.8px!important;margin:20px 0 10px 10px!important}}.mobile-options[_ngcontent-%COMP%]   .sticky-mobile-btns[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;padding:0 10px 10px;top:82px;margin:0 -10px;z-index:99}"]}),e})();var q=n("SCW7"),Y=n("fK27");let $=(()=>{class e extends a.SharedBaseCharmFactory{constructor(e,t,n){super(),this.brandService=e,this.adobeChatService=t,this.renewWorker=n,this.standardUnExpiredProductToolTipText=" is set to automatically renew  \u200bbefore the  expiration date to prevent service interruption,  deletion, or payment processing issues.",this.standardNearExpiredProductToolTipText=" name before it's expiration date to avoid downtime and late fees.",this.autoRenewUnexpiredProductToolTipText=" is about to expire. Renew now to avoid late fees and loss of functionality",this.expiredProductToolTipText=" is expired. Any connected services will stop working two days after expiration. In order to reactivate your expired ",this.today=new Date,this.dates=new a.SharedDatesMock,this.brand=e.getBrandFromQuerySelectors()}createCharm(e){return this.gwOverview=e,this.expiryDate=this.gwOverview.expiryDate,this.hasExpired=new Date(this.expiryDate)<this.today||this.gwOverview.status===p.Expired,this.expirationCharmState=this.determinCharmState(),{charmText:this.getCharmText(),charmIcon:u.Calendar,charmState:this.getCharmState(),infoText:this.getToolTipText(),actionText:this.getActionText(),actionDelegate:this.getActionDelegate(),infoSection:"expiration",showErrorStateText:this.shouldShowErrorStateText(),actionStatus:this.getActionStatusText(),actionDisableClass:this.gwOverview.isTechUser?"disable-link":""}}determinCharmState(){return this.hasExpired?J.AlreadyExpiredWithAction:this.gwOverview.hasAutoRenew?J.RenewsNoAction:J.ExpiresNoAction}getCharmText(){switch(this.expirationCharmState){case J.RenewsNoAction:return"Renews "+this.expiryDate;case J.AlreadyExpiredWithAction:return"EXPIRED "+this.expiryDate;case J.ExpiresNoAction:return"Expires "+this.expiryDate}}shouldShowErrorStateText(){switch(this.expirationCharmState){case J.AlreadyExpiredWithAction:case J.ExpiresNoAction:return!0;default:return!1}}getActionDelegate(){switch(this.expirationCharmState){case J.AlreadyExpiredWithAction:return()=>{this.gwOverview.isTechUser||this.renewWorker.processSingle(this.gwOverview.productInstanceId)};default:return null}}getCharmState(){switch(this.expirationCharmState){case J.RenewsNoAction:return a.SharedCharmState.Normal;case J.ExpiresNoAction:case J.AlreadyExpiredWithAction:return a.SharedCharmState.Alert}}getActionStatusText(){return""}getToolTipText(){switch(this.expirationCharmState){case J.ExpiresNoAction:return"Renew your "+this.gwOverview.productName+this.standardNearExpiredProductToolTipText;case J.RenewsNoAction:return"Your "+this.gwOverview.productName+this.standardUnExpiredProductToolTipText;case J.AlreadyExpiredWithAction:return"The "+this.gwOverview.productName+this.expiredProductToolTipText+this.gwOverview.productName+",  a reinstatement fee is required in addition to any renewal charges."}}getActionText(){switch(this.expirationCharmState){case J.RenewsNoAction:return"";case J.ExpiresNoAction:case J.AlreadyExpiredWithAction:return this.gwOverview.isDowngradePlanOrderPending||this.gwOverview.isSeatDecreaseOrderPending||"Suspended"===this.gwOverview.status?"":"Renew Now"}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](a.BrandService),s["\u0275\u0275inject"](a.AdobeChatService),s["\u0275\u0275inject"](a.RenewWorker))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var J=function(e){return e.ExpiresNoAction="ExpiresNoAction",e.RenewsNoAction="RenewsNoAction",e.AlreadyExpiredWithAction="AlreadyExpiredWithAction",e}({}),Q=n("zmEM");function K(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p"),s["\u0275\u0275elementStart"](1,"small"),s["\u0275\u0275text"](2,"By enabling auto-renew, the assigned payment method on file for that product will be charged up to sixty (60) days in advance of that product's renewal date. Please refer to the "),s["\u0275\u0275elementStart"](3,"a",10),s["\u0275\u0275text"](4,"Service Agreement"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5," for additional details. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275propertyInterpolate"]("href",e.TermsOfService,s["\u0275\u0275sanitizeUrl"])}}function X(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"P"),s["\u0275\u0275elementStart"](1,"small"),s["\u0275\u0275text"](2),s["\u0275\u0275elementStart"](3,"a",11),s["\u0275\u0275text"](4,"Terms of Service"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,", and "),s["\u0275\u0275elementStart"](6,"a",11),s["\u0275\u0275text"](7,"Cancellation Policy."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate2"]("By enabling auto-renew, the payment method on file will be charged prior to the renewal date for the same term length. You can cancel anytime prior to your renewal to prevent recurring charges, by logging into your billing portal or calling customer support at [",e.supportNumber,"]. Your continued use of ",e.brandName," products and services are subject to our Auto Renewal Terms, "),s["\u0275\u0275advance"](1),s["\u0275\u0275propertyInterpolate"]("href",e.TermsOfService,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](3),s["\u0275\u0275propertyInterpolate"]("href",e.cancellationPolicy,s["\u0275\u0275sanitizeUrl"])}}let Z=(()=>{class e{constructor(e,t,n,a,r,o){this.productApiService=e,this.snackbarService=t,this.userService=n,this.brandService=a,this.dialogRef=r,this.data=o}ngOnInit(){this.brandName=this.brandService.BrandName(),this.supportNumber=this.brandService.CustomerSupportTelephoneNumber(),this.TermsOfService=this.brandService.getLegalLinkOnBrand(),this.cancellationPolicy=this.brandService.getLegalLinkOnBrand()}confirmEnable(){this.productApiService.updateAutoRenew({renewData:this.data.renewalData}).subscribe(e=>{e.response.data.renewResult[0].orderId&&(this.userService.setGWAutoRenew(!0),this.snackbarService.openSuccess("You have successfully enabled auto-renew!"),this.dialogRef.close())})}isBrandAllowed(){return"Bluehost.com"!==this.brandName&&"Hostgator.com"!==this.brandName}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](i.ProductApiService),s["\u0275\u0275directiveInject"](a.SnackbarService),s["\u0275\u0275directiveInject"](a.UserService),s["\u0275\u0275directiveInject"](a.BrandService),s["\u0275\u0275directiveInject"](r.j),s["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["lz-google-workspace-enable-auto-renew-dialog"]],decls:17,vars:4,consts:[["fxLayout","","fxLayoutAlign"," center"],["mat-dialog-title","",1,"mat-h3","u-marginAn","u-textEllipsize","reg-enable-auto-renew-title"],[1,"u-marginBl"],["fxLayout","row wrap",1,"u-marginBl","reg-enable-auto-renew-message"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["fxLayout","","fxLayoutAlign","end"],["mat-flat-button","","fxFlex.xs","50",1,"reg-enable-auto-renew-cancel-btn","u-marginHs",3,"mat-dialog-close"],["mat-flat-button","","color","primary","fxFlex.xs","50",1,"reg-enable-auto-renew-confirm-btn","u-marginHs",3,"click"],["target","_blank","tabindex","-1",1,"u-textPrimary","u-textLink--underlined","reg-service-agreement",3,"href"],["target","_blank",1,"u-textPrimary","u-textLink--underlined",3,"href"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"h3",1),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"mat-divider",2),s["\u0275\u0275elementStart"](4,"mat-dialog-content"),s["\u0275\u0275elementContainerStart"](5,2),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"p"),s["\u0275\u0275text"](8,"Auto-renew can simplify your life. We'll automatically renew your product prior to its expiration in order to protect it from service interruption. On auto-renew you don't need to do a thing, no calendar reminders needed, no extra fees, and you can disable anytime. Isn't that easy?"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerStart"](9,4),s["\u0275\u0275template"](10,K,6,1,"p",5),s["\u0275\u0275template"](11,X,8,4,"P",6),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementStart"](12,"div",7),s["\u0275\u0275elementStart"](13,"button",8),s["\u0275\u0275text"](14," Cancel "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"button",9),s["\u0275\u0275listener"]("click",(function(){return t.confirmEnable()})),s["\u0275\u0275text"](16," Enable "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"]("Enable Auto-Renew for ",t.productName," "),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngSwitch",t.isBrandAllowed()),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngSwitchCase",!0),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("mat-dialog-close",!1))},directives:[x.f,x.e,r.k,Q.a,r.h,S.x,S.y,S.z,f.b,x.b,r.e],encapsulation:2}),e})(),ee=(()=>{class e extends a.SharedBaseCharmFactory{constructor(e,t,n){super(),this.dialog=e,this.route=t,this.userService=n,this.productType="Google Workspace"}createCharm(e){this.gwOverview=e;const t={actionDelegate:this.getActionDelegate(),actionText:this.getActionText(),charmIcon:u.AutoRenewEnabled,charmState:this.getCharmState(),charmText:this.getCharmText(),infoText:this.getToolTipText(),infoSection:"renewal",showErrorStateText:!1,actionStatus:this.getActionStatusText(),actionDisableClass:this.gwOverview.isTechUser?"disable-link":""};return this.userService.getGWAutoRenew().subscribe(e=>{this.gwOverview.hasAutoRenew=e,e&&(t.charmText=this.getCharmText(),t.actionText=this.getActionText())}),t}getActionDelegate(){return this.gwOverview.hasAutoRenew?null:()=>{const e=new r.f;e.disableClose=!0,e.width="560px",e.maxWidth="calc(100vw - 16px)",e.data={productName:this.gwOverview.productName,renewalData:[{accountId:this.gwOverview.accountId,products:[{productInstanceId:this.gwOverview.productInstanceId,productCode:this.gwOverview.productCode,productType:this.productType}],autoRenew:!1===this.gwOverview.hasAutoRenew?"enable":""}]},this.dialog.open(Z,e)}}getActionText(){return this.gwOverview.hasAutoRenew||this.gwOverview.isSeatDecreaseOrderPending||this.gwOverview.isDowngradePlanOrderPending||this.gwOverview.isTechUser||"Suspended"===this.gwOverview.status?"":"Turn on"}getCharmState(){return this.gwOverview.hasAutoRenew?a.SharedCharmState.Normal:a.SharedCharmState.Alert}getCharmText(){return this.gwOverview.hasAutoRenew?"Auto-Renew is on":"Auto-Renew is off"}getActionStatusText(){return""}getToolTipText(){return this.gwOverview.hasAutoRenew?"Your "+this.gwOverview.productName+" is set to automatically renew  \u200bbefore the expiration date to prevent service interruption,  deletion, or payment processing issues.\u200b":"Your "+this.gwOverview.productName+" must be renewed before the expiration date to avoid service interruption and reinstatement fees. Set your domain name to renew automatically to save time and additional expense.\u200b"}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](r.c),s["\u0275\u0275inject"](o.a),s["\u0275\u0275inject"](a.UserService))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),te=(()=>{class e{constructor(){this.gwPendingSetupToolTip=" is ready for you to setup the primary email. You won't be able to use this product until you've created this email.",this.gwSetupProcessingTooltip="We are processing your Google Workspace setup and will have more features available as soon as it's complete.",this.gwExpiredToolTip=" is expired. Any connected services will stop working two days after expiration.",this.gwActiveTooltip=" is available for use.",this.gwSuspendedToolTip_Terms=" was suspended because you have not accepted Google's Terms of Service.  Please login to Google and accept now.",this.gwSuspendedToolTip_Login=" was suspended and requires your review.  Login to Google Workspace for further details.",this.gwSuspendedToolTip_Global=" has been suspended and some tools have been disabled"}createCharm(e){var t;return this.gwOverview=e,this.gwStatus=h.getGwStatusType(this.gwOverview.status),this.gwStatusLabel=p[h.toPascalCase(this.gwOverview.status)],{charmText:null!==(t=this.gwStatusLabel)&&void 0!==t?t:this.gwOverview.status,charmIcon:this.getCharmIcon(),charmState:this.getCharmState(),infoText:this.getToolTipText(),actionText:"",actionDelegate:null,infoSection:"status",showErrorStateText:!1,actionDisableClass:this.gwOverview.isTechUser?"disable-link":""}}getCharmIcon(){switch(this.gwStatus){case g.Active:return u.Active;case g.PendingSetup:return u.Pending;case g.Suspended:case g.Expired:default:return u.Inactive}}getCharmState(){switch(this.gwStatus){case g.Active:return a.SharedCharmState.Normal;case g.PendingSetup:case g.SetupProcessing:return a.SharedCharmState.Warn;case g.Suspended:case g.Expired:return a.SharedCharmState.Alert;default:return a.SharedCharmState.None}}getToolTipText(){switch(this.gwStatus){case g.Active:return"Your "+this.gwOverview.productName+this.gwActiveTooltip;case g.PendingSetup:return"Your "+this.gwOverview.productName+this.gwPendingSetupToolTip;case g.Expired:return"The "+this.gwOverview.productName+this.gwExpiredToolTip;case g.Suspended:return"SUSPENDED_GLOBAL"===this.gwOverview.suspendedReason?"Your "+this.gwOverview.productName+this.gwSuspendedToolTip_Global:"SUSPENDED_PENDING_TOS_ACCEPTANCE"===this.gwOverview.suspendedReason?"Your "+this.gwOverview.productName+this.gwSuspendedToolTip_Terms:"Your "+this.gwOverview.productName+this.gwSuspendedToolTip_Login;case g.SetupProcessing:return this.gwSetupProcessingTooltip;default:return a.SharedCharmState.None}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ne=(()=>{class e{constructor(e,t,n){this.gwStatusInfoFactory=e,this.gwExpirationCharmFactory=t,this.gwRenewalCharmFactory=n}CreateGwInfoCharms(e){const t=[],n=[];return t.push(this.gwStatusInfoFactory.createCharm(e)),n.push(this.gwExpirationCharmFactory.createCharm(e)),n.push(this.gwRenewalCharmFactory.createCharm(e)),{gwStatusCharms:t,gwRenewalCharms:n,gwSupportCharms:[]}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](te),s["\u0275\u0275inject"]($),s["\u0275\u0275inject"](ee))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ae=n("D57K"),re=n("nIj0"),oe=n("xzqx"),ie=n("29Wa"),se=n("Cd2c");function ce(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"h3",5),s["\u0275\u0275text"](2,"Google Workspace Setup"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"hr",6),s["\u0275\u0275elementStart"](4,"p",7),s["\u0275\u0275text"](5," You are about to setup your "),s["\u0275\u0275elementStart"](6,"strong"),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](8," which includes creating the primary email for the account. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"p",8),s["\u0275\u0275text"](10," It will only take a few minutes and we'll guide you through every step of the process. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate2"]("Google Workspace ",e.data.productName," for ",e.data.domainName,"")}}function le(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1,"No whiteSpace at Starting"),s["\u0275\u0275elementEnd"]())}function de(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1,"No whiteSpace at End"),s["\u0275\u0275elementEnd"]())}function me(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1,"No whiteSpace at Starting"),s["\u0275\u0275elementEnd"]())}function ue(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1,"No whiteSpace at End"),s["\u0275\u0275elementEnd"]())}function pe(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"h3",5),s["\u0275\u0275text"](2,"Google Workspace Setup"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"hr",6),s["\u0275\u0275elementStart"](4,"p",7),s["\u0275\u0275text"](5,"Let's create the primary email for your account:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"form",9),s["\u0275\u0275elementStart"](7,"div",10),s["\u0275\u0275elementStart"](8,"mat-form-field",11,12),s["\u0275\u0275element"](10,"input",13),s["\u0275\u0275elementStart"](11,"mat-error",14),s["\u0275\u0275text"](12,"Enter Valid Mailbox Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",15),s["\u0275\u0275elementStart"](14,"p",16,17),s["\u0275\u0275listener"]("mouseenter",(function(t){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](15);return s["\u0275\u0275nextContext"]().toggleEllipsisTooltip(t,n)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"mat-form-field",18,12),s["\u0275\u0275element"](18,"input",19),s["\u0275\u0275template"](19,le,2,0,"mat-error",1),s["\u0275\u0275template"](20,de,2,0,"mat-error",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"mat-form-field",18,12),s["\u0275\u0275element"](23,"input",20),s["\u0275\u0275template"](24,me,2,0,"mat-error",1),s["\u0275\u0275template"](25,ue,2,0,"mat-error",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"mat-form-field",18,12),s["\u0275\u0275element"](28,"input",21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"p",22),s["\u0275\u0275elementStart"](30,"strong"),s["\u0275\u0275text"](31,"Note:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](32," You will receive an email from Google to setup your password, it is not part of this setup flow."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("formGroup",e.userForm),s["\u0275\u0275advance"](8),s["\u0275\u0275propertyInterpolate"]("matTooltip",e.data.domainName),s["\u0275\u0275propertyInterpolate"]("innerHTML","@"+e.data.domainName,s["\u0275\u0275sanitizeHtml"]),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",null==e.userForm.controls.firstName.errors?null:e.userForm.controls.firstName.errors.noWhiteSpaceatStart),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==e.userForm.controls.firstName.errors?null:e.userForm.controls.firstName.errors.noWhiteSpaceatEnd),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",null==e.userForm.controls.lastName.errors?null:e.userForm.controls.lastName.errors.noWhiteSpaceatStart),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==e.userForm.controls.lastName.errors?null:e.userForm.controls.lastName.errors.noWhiteSpaceatEnd)}}function ge(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1,"Email address provided is invalid"),s["\u0275\u0275elementEnd"]())}function he(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1,"No whiteSpace at Starting"),s["\u0275\u0275elementEnd"]())}function ve(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"mat-error"),s["\u0275\u0275text"](1,"No whiteSpace at End"),s["\u0275\u0275elementEnd"]())}function we(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"div",10),s["\u0275\u0275elementStart"](2,"button",23,24),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().goToPreviousStep()})),s["\u0275\u0275elementStart"](4,"mat-icon",25),s["\u0275\u0275text"](5,"chevron_left"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"h3",26),s["\u0275\u0275text"](7,"Google Workspace Setup"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](8,"hr",6),s["\u0275\u0275elementStart"](9,"h3",27),s["\u0275\u0275text"](10,"Recovery email address"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"p",28),s["\u0275\u0275text"](12," Google will use this email address to send you important account information. Provide a different address that\u2019s not at "),s["\u0275\u0275elementStart"](13,"strong"),s["\u0275\u0275text"](14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15," so that you can access account recovery information if you ever get locked out of this account. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"form",9),s["\u0275\u0275elementStart"](17,"mat-form-field",18,12),s["\u0275\u0275elementStart"](19,"mat-label"),s["\u0275\u0275text"](20,"Recovery Email"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](21,"input",29),s["\u0275\u0275template"](22,ge,2,0,"mat-error",1),s["\u0275\u0275template"](23,he,2,0,"mat-error",1),s["\u0275\u0275template"](24,ve,2,0,"mat-error",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](14),s["\u0275\u0275textInterpolate"](e.data.domainName),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("formGroup",e.recoveryEmailForm),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",null==e.recoveryEmailForm.controls.recoveryEmail.errors?null:e.recoveryEmailForm.controls.recoveryEmail.errors.invalidEmail),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==e.recoveryEmailForm.controls.recoveryEmail.errors?null:e.recoveryEmailForm.controls.recoveryEmail.errors.noWhiteSpaceatStart),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==e.recoveryEmailForm.controls.recoveryEmail.errors?null:e.recoveryEmailForm.controls.recoveryEmail.errors.noWhiteSpaceatEnd)}}let xe=(()=>{let e=class{constructor(e,t,n,a,r,o,i){this.data=e,this.dialogRef=t,this.userApiService=a,this.productApiService=r,this.route=o,this.snackbarService=i,this.canceled=new s.EventEmitter,this.stringRegex=new RegExp(/^(?=.{0,20}$)(?![_.-])(?!.*[_.-]{2})[a-zA-Z0-9._.-]+(?<![_.-])$/),this.instanceID=this.route.snapshot.queryParams.instanceId,this.productCode=this.route.snapshot.queryParams.productCode,this.CONTINUE_STEP={STEP_1_GET_STARTED:0,STEP_2_ACCOUNT_SETUP:1,STEP_3_RECOVERY_EMAIL:2},this.continueStep=this.CONTINUE_STEP.STEP_1_GET_STARTED,this.continueButtonDisabled=!1,this.isLoading=!1,this.continueButtonTextPatterns={GetStarted:"Get Started",Continue:"Continue",SetUp:"SetUp"},this.continueButtonText=this.continueButtonTextPatterns.GetStarted,this.userForm=n.group({mailBoxName:["",[re.Validators.required,re.Validators.pattern(this.stringRegex)]],firstName:["",[re.Validators.required,Object(m.j)()]],lastName:["",[re.Validators.required,Object(m.j)()]],orgName:[""]}),this.recoveryEmailForm=n.group({recoveryEmail:["",[Object(m.g)(),Object(m.j)()]]})}ngOnInit(){this.userApiService.getUserInfoFullDetails().subscribe(e=>{this.userDetails=e})}cancel(){this.dialogRef.close({onCancel:!0})}continue(){var e,t;if("SetUp"===this.continueButtonText){this.isLoading=!0;const n={productInstanceId:this.instanceID||(null===(e=this.data)||void 0===e?void 0:e.instanceId),productCode:this.productCode||(null===(t=this.data)||void 0===t?void 0:t.productCode),user:{mailBoxName:this.userForm.controls.mailBoxName.value,domainName:this.data.domainName,firstName:this.userForm.controls.firstName.value,lastName:this.userForm.controls.lastName.value,orgName:this.userForm.controls.orgName.value,recoveryEmail:this.recoveryEmailForm.controls.recoveryEmail.value}};this.productApiService.createUserForAMProduct(n).subscribe(e=>{e.orderId?(this.isLoading=!1,this.dialogRef.close({onCancel:!0,onSuccess:!0})):(this.isLoading=!1,this.snackbarService.openError(e.failureReason))})}else this.continueStep++,this.setContinueButtonState()}toggleEllipsisTooltip(e,t){t.disabled=!(e.target.scrollWidth>e.target.clientWidth)}setContinueButtonState(){switch(this.continueStep){case this.CONTINUE_STEP.STEP_1_GET_STARTED:this.continueButtonDisabled=!1;break;case this.CONTINUE_STEP.STEP_2_ACCOUNT_SETUP:this.continueButtonDisabled=!this.userForm.valid,this.continueButtonText=this.continueButtonTextPatterns.Continue,this.userForm.get("orgName").setValue(this.userDetails.companyName);break;case this.CONTINUE_STEP.STEP_3_RECOVERY_EMAIL:this.continueButtonDisabled=!this.recoveryEmailForm.valid,this.continueButtonText=this.continueButtonTextPatterns.SetUp,this.recoveryEmailForm.get("recoveryEmail").setValue(this.userDetails.email)}}goToPreviousStep(){this.continueStep=this.CONTINUE_STEP.STEP_2_ACCOUNT_SETUP,this.setContinueButtonState()}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](r.a),s["\u0275\u0275directiveInject"](r.j),s["\u0275\u0275directiveInject"](re.FormBuilder),s["\u0275\u0275directiveInject"](i.UserAPIService),s["\u0275\u0275directiveInject"](i.ProductApiService),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](a.SnackbarService))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["lz-google-workspace-setup-dialog"]],outputs:{canceled:"canceled"},decls:11,vars:6,consts:[["loaderSplash","",3,"loader"],[4,"ngIf"],["mat-flat-button","","fxFlex.xs","",1,"reg-trusted-phone-cancel-button",3,"click"],["mat-flat-button","","color","primary","fxFlex.xs","",1,"reg-trusted-phone-next-button","aa-trusted-phone-verify-button",3,"disabled","click"],["continueButton",""],[1,"u-fontSize20","color-head"],[1,"line"],[1,"u-fontSize16","initial"],[1,"u-fontSize20","u-marginTm"],["fxLayout","column",3,"formGroup"],["fxLayout","row"],["appearance","outline",1,"u-marginTm"],["outlineFieldRef",""],["type","text","matInput","","formControlName","mailBoxName","placeholder","Your new email","required",""],[1,"u-marginTs"],[1,"domainName"],["ngClass.gt-xs","mat-body-2","matTooltipPosition","above","matTooltipClass","down-arrow",1,"u-marginAn","u-textEllipsize","tooltip",2,"max-width","200px",3,"matTooltip","innerHTML","mouseenter"],["productNameTooltip","matTooltip"],["appearance","outline",1,"u-fullWidth","u-marginTm"],["type","text","matInput","","formControlName","firstName","placeholder","First Name","required",""],["type","text","matInput","","formControlName","lastName","placeholder","Last Name","required",""],["type","text","matInput","","formControlName","orgName","placeholder","Organization Name (optional)"],[1,"u-fontSize14","color-head"],["mat-button","","color","primary","ngClass.xs","u-textLeft u-paddingAn",1,"mat-button--textless","reg-merge-account-back-button",3,"click"],["backButton",""],[1,"existing-services-back-icon"],[1,"u-fontSize20","u-marginLm"],[1,"u-fontSize16","u-textWeightBold","initial"],[1,"u-fontSize16"],["type","text","matInput","","formControlName","recoveryEmail","placeholder","email_on_file_of_the_login_user","required",""]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"mat-dialog-content"),s["\u0275\u0275template"](2,ce,11,2,"div",1),s["\u0275\u0275template"](3,pe,33,7,"div",1),s["\u0275\u0275template"](4,we,25,5,"div",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"mat-dialog-actions"),s["\u0275\u0275elementStart"](6,"button",2),s["\u0275\u0275listener"]("click",(function(){return t.cancel()})),s["\u0275\u0275text"](7," Cancel "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"button",3,4),s["\u0275\u0275listener"]("click",(function(){return t.continue()})),s["\u0275\u0275text"](10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("loader",t.isLoading),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.continueStep===t.CONTINUE_STEP.STEP_1_GET_STARTED),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.continueStep===t.CONTINUE_STEP.STEP_2_ACCOUNT_SETUP),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.continueStep===t.CONTINUE_STEP.STEP_3_RECOVERY_EMAIL),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("disabled",!t.userForm.valid&&t.continueStep===t.CONTINUE_STEP.STEP_2_ACCOUNT_SETUP||!t.recoveryEmailForm.valid&&t.continueStep===t.CONTINUE_STEP.STEP_3_RECOVERY_EMAIL),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",t.continueButtonText," "))},directives:[c.a,r.h,S.t,r.d,f.b,x.b,re["\u0275angular_packages_forms_forms_y"],re.NgControlStatusGroup,x.f,re.FormGroupDirective,ie.c,se.a,re.DefaultValueAccessor,re.NgControlStatus,re.FormControlName,re.RequiredValidator,ie.b,w.a,y.a,C.a,ie.g],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:end}.domainName[_ngcontent-%COMP%]{margin-top:22px;margin-left:16px}.color-head[_ngcontent-%COMP%]{color:var(--dc-theme-grey)}.initial[_ngcontent-%COMP%]{margin-top:24px}.line[_ngcontent-%COMP%]{color:var(--dc-theme-grey--light2)}input[_ngcontent-%COMP%]:focus::-moz-placeholder{color:transparent}input[_ngcontent-%COMP%]:focus:-ms-input-placeholder{color:transparent}input[_ngcontent-%COMP%]:focus::placeholder{color:transparent}.existing-services-back-icon[_ngcontent-%COMP%]{height:unset!important;font-size:xx-large;margin-top:-20px!important}"]}),e=Object(ae.b)([Object(oe.a)()],e),e})();var fe=n("66mq");let Se=(()=>{class e{getCharmColor(){switch(this.gwInfoCharm.charmState){case a.SharedCharmState.Alert:case a.SharedCharmState.Normal:case a.SharedCharmState.Warn:return this.gwInfoCharm.charmState.toString();default:return""}}getCharmIconClass(){return`${this.getCharmColor()} reg-ldd-charm-icon-${this.gwInfoCharm.infoSection}`}getCharmTextClass(){return`reg-ldd-info-charm-charm-text-${this.gwInfoCharm.infoSection} ${this.getCharmTextColor()}`}getCharmTextColor(){return!0===this.gwInfoCharm.showErrorStateText?"error-state-text":""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],inputs:{gwInfoCharm:"gwInfoCharm"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();function Ce(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",7),s["\u0275\u0275elementStart"](1,"mat-icon",8),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275classMapInterpolate1"]("u-marginLm reg-ldd-info-charm-info-text-",e.gwInfoCharm.infoSection,""),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("matTooltip",e.gwInfoCharm.infoText),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"]("info")}}function ye(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",1),s["\u0275\u0275elementStart"](1,"div",9),s["\u0275\u0275text"](2,"\xa0 "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",10),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"](" ",e.gwInfoCharm.actionStatus," ")}}function be(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"a",15),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).invokeDelegate()})),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275classMapInterpolate1"]("charm-action u-textLeft u-textSize12 u-paddingAn u-textUnderline reg-ldd-info-charm-action-text-",e.gwInfoCharm.infoSection,""),s["\u0275\u0275property"]("ngClass",e.gwInfoCharm.actionDisableClass),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.gwInfoCharm.actionText," ")}}function Ee(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"a",16),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275classMapInterpolate1"]("charm-action u-textLeft u-textSize12 u-paddingAn reg-ldd-info-charm-action-text-",e.gwInfoCharm.infoSection,""),s["\u0275\u0275propertyInterpolate1"]("href","tel:+",e.gwInfoCharm.actionText,"",s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.gwInfoCharm.actionText," ")}}function Pe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",11),s["\u0275\u0275elementStart"](1,"div",9),s["\u0275\u0275text"](2,"\xa0 "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",12),s["\u0275\u0275template"](4,be,2,5,"a",13),s["\u0275\u0275template"](5,Ee,2,5,"a",14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!e.gwInfoCharm.isTelType),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.gwInfoCharm.isTelType)}}let Ie=(()=>{class e extends Se{constructor(e,t,n){super(),this.route=e,this.userService=t,this.brandService=n,this.ctbData={ctbVal:"close",accountId:"",productCode:"",domainList:[],bannerId:"",parentProdInstId:void 0,sourceLocation:"home",pegaData:{}},this.accountId=this.route.snapshot.queryParams.accountId,this.instanceId=this.route.snapshot.queryParams.instanceId}invokeDelegate(){this.gwInfoCharm.actionDelegate()}ngOnInit(){this.shouldShowToolTip=null!=this.gwInfoCharm.infoText&&this.gwInfoCharm.infoText.length>0,this.brandName=this.brandService.BrandName(),this.shouldShowAction="Web.com"!==this.brandName&&this.gwInfoCharm.actionText&&this.gwInfoCharm.actionText.length&&null!=this.gwInfoCharm.actionDelegate,this.userService.hasTechuser.subscribe(e=>{e&&(this.gwInfoCharm.actionDisableClass=e?"disable-link":"")})}onCtbClose(){this.ctbData={ctbVal:"close",accountId:"",productCode:"",domainList:[],bannerId:"",parentProdInstId:void 0,sourceLocation:"",pegaData:{}}}onCtbPurchase(){}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](a.UserService),s["\u0275\u0275directiveInject"](a.BrandService))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["lz-google-workspace-overview-info"]],features:[s["\u0275\u0275InheritDefinitionFeature"]],decls:10,vars:12,consts:[[1,"u-marginBm"],["fxLayout","row",1,"u-flexAlignSelfStart","u-flexAlignCenter","u-marginBn"],["fxLayout","column",1,"u-marginRm"],["fxLayout","column",1,"u-textSize14","u-textGrey","u-textWeight400"],["fxLayout","column",3,"class",4,"ngIf"],["fxLayout","row","class","u-flexAlignSelfStart u-flexAlignCenter u-marginBn",4,"ngIf"],["fxLayout","row","class","u-flexAlignSelfStart u-flexAlignCenter u-marginBn reg-ldd-info-charm-show-action",4,"ngIf"],["fxLayout","column"],["matTooltipPosition","above",3,"matTooltip"],["fxLayout","column",1,"u-marginLm"],["fxLayout","column",1,"u-paddingLl","u-textBold","warning"],["fxLayout","row",1,"u-flexAlignSelfStart","u-flexAlignCenter","u-marginBn","reg-ldd-info-charm-show-action"],["fxLayout","column",1,"u-paddingLl"],["ngClass.xs","u-marginBm",3,"class","ngClass","click",4,"ngIf"],["ngClass.xs","u-marginBm",3,"class","href",4,"ngIf"],["ngClass.xs","u-marginBm",3,"ngClass","click"],["ngClass.xs","u-marginBm",3,"href"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"mat-icon"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",3),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](7,Ce,3,5,"div",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](8,ye,5,1,"div",5),s["\u0275\u0275template"](9,Pe,6,2,"div",6),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275classMapInterpolate1"]("reg-ldd-info-charm-icon-",t.gwInfoCharm.infoSection,""),s["\u0275\u0275advance"](1),s["\u0275\u0275classMap"](t.getCharmIconClass()),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",t.gwInfoCharm.charmIcon," "),s["\u0275\u0275advance"](1),s["\u0275\u0275classMap"](t.getCharmTextClass()),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",t.gwInfoCharm.charmText," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.shouldShowToolTip),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.gwInfoCharm.actionStatus),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.shouldShowAction))},directives:[x.f,C.a,S.t,y.a,w.a,S.q],styles:[".material-icons.normal[_ngcontent-%COMP%]{color:var(--dc-theme-success)}.material-icons.warn[_ngcontent-%COMP%]{color:var(--dc-theme-warning)}.error-state-text[_ngcontent-%COMP%], .material-icons.alert[_ngcontent-%COMP%]{color:var(--mdc-theme-error)!important}.mat-icon[_ngcontent-%COMP%]{color:var(--dc-theme-grey--light1);height:20px;width:20px;font-size:20px}.charm-action[_ngcontent-%COMP%]{cursor:pointer}.charm-action.disable-link[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none;color:var(--dc-theme-grey--light1)}.warning[_ngcontent-%COMP%]{color:var(--dc-theme-warning--dark)}"]}),e})();function Te(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"button",25),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).openSetupDialog()})),s["\u0275\u0275text"](2," SetUp "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function Oe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275element"](1,"lz-google-workspace-overview-info",23),s["\u0275\u0275template"](2,Te,3,0,"div",24),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("gwInfoCharm",e),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","Pending Setup"===e.charmText)}}function _e(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"a",26),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().BuyUpgradePlan()})),s["\u0275\u0275text"](1,"Upgrade Plan"),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("ngClass",e.overviewData.isTechUser?"link-disabled":"")}}function De(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",27),s["\u0275\u0275elementStart"](1,"span",28),s["\u0275\u0275text"](2,"UPDATE PROCESSING"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function Ae(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",29),s["\u0275\u0275element"](1,"lz-google-workspace-overview-info",23),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("gwInfoCharm",e)}}function ke(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",27),s["\u0275\u0275elementStart"](1,"a",26),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().BuyMoreUsers()})),s["\u0275\u0275text"](2,"Add more users"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngClass",e.overviewData.isTechUser?"link-disabled":"")}}function Ne(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",27),s["\u0275\u0275elementStart"](1,"span",28),s["\u0275\u0275text"](2,"UPDATE PROCESSING"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}let Me=(()=>{class e{constructor(e,t,n,a,r,o){this.gwInfoCharmFactory=e,this.dialog=t,this.userService=n,this.route=a,this.snackbarService=r,this.sessionStorage=o,this.reloadOverview=new s.EventEmitter,this.gwStatusCharms=[],this.gwRenewalCharms=[],this.openSetup=this.route.snapshot.queryParams.openSetup,this.ctbData={ctbVal:"close",accountId:"",productCode:"",domainList:[],bannerId:"",parentProdInstId:void 0,sourceLocation:"",pegaData:{},noOfUsers:1,planName:"",purchaseTermUnit:"",isUpgradePlan:!1}}ngOnInit(){var e,t,n,a;if(this.gwPlan=this.overviewData.productName.split("Google Workspace ")[1],this.getOverviewData(),this.progressValue=Number(this.overviewData.seatsUsed/this.overviewData.seatsTotal*100),"PendingSetup"===this.overviewData.status&&this.openSetupDialog(),this.isUpgradePlanOrderPending=null===(e=this.overviewData)||void 0===e?void 0:e.isUpgradePlanOrderPending,this.shouldShowAddMoreUserCTBAction=!!(null===(t=this.overviewData)||void 0===t?void 0:t.isGWProductConfigured),!0===(null===(n=this.overviewData)||void 0===n?void 0:n.isGoogleSeatOrderPending)){this.isGoogleSeatOrderPending=null===(a=this.overviewData)||void 0===a?void 0:a.isGoogleSeatOrderPending;const e=this.sessionStorage.getItem("purchasedUsers")?this.sessionStorage.getItem("purchasedUsers"):0;0!==e&&(this.overviewData.seatsTotal=this.overviewData.seatsTotal+e)}}getOverviewData(){this.userService.hasTechuser.subscribe(e=>{e&&(this.overviewData.isTechUser=e)});const e=this.gwInfoCharmFactory.CreateGwInfoCharms(this.overviewData);this.gwStatusCharms=e.gwStatusCharms,this.gwRenewalCharms=e.gwRenewalCharms}toggleEllipsisTooltip(e,t){t.disabled=!(e.target.scrollWidth>e.target.clientWidth)}openSetupDialog(){var e,t;this.dialog.open(xe,{width:"562px",maxWidth:"calc(100vw - 16px)",data:{productName:this.overviewData.productName.split("Google Workspace ")[1],domainName:this.overviewData.domain,instanceId:null===(e=this.overviewData)||void 0===e?void 0:e.productInstanceId,productCode:null===(t=this.overviewData)||void 0===t?void 0:t.productCode}}).afterClosed().subscribe(e=>{(null==e?void 0:e.onSuccess)&&(this.snackbarService.openSuccess("We are processing your Google Workspace setup and will have more features available as soon as it's complete."),this.reloadOverview.emit())})}BuyMoreUsers(){this.ctbData={ctbVal:"open",accountId:this.overviewData.accountId.toString(),productCode:this.overviewData.productCode,domainList:[],bannerId:"",parentProdInstId:this.overviewData.productInstanceId,sourceLocation:"",pegaData:"",noOfUsers:this.overviewData.seatsTotal,planName:this.gwPlan,purchaseTermUnit:this.overviewData.purchaseTermUnit,isUpgradePlan:!1}}BuyUpgradePlan(){this.ctbData={ctbVal:"open",accountId:this.overviewData.accountId.toString(),productCode:this.overviewData.productCode,domainList:[],bannerId:"",parentProdInstId:this.overviewData.productInstanceId,sourceLocation:"upgradePlan",pegaData:"",noOfUsers:this.overviewData.seatsTotal,planName:this.gwPlan,purchaseTermUnit:this.overviewData.purchaseTermUnit,isUpgradePlan:!0}}onCtbClose(){this.ctbData={ctbVal:"close",accountId:"",productCode:"",domainList:[],bannerId:"",parentProdInstId:void 0,sourceLocation:"",pegaData:{},noOfUsers:1,planName:"",purchaseTermUnit:"",isUpgradePlan:!1}}onCtbPurchase(e){var t,n,a,r;const o=null===(n=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.ctbData)||void 0===n?void 0:n.noOfUsers;(null===(r=null===(a=null==e?void 0:e.detail)||void 0===a?void 0:a.ctbData)||void 0===r?void 0:r.isUpgradePlan)?(this.isUpgradePlanOrderPending=!0,this.snackbarService.openSuccess("Your plan for Google Workspace is processing and may take up to 24 hours before it's ready to use.")):o&&!this.usersUpdated&&(this.sessionStorage.setItem("purchasedUsers",o),this.overviewData.seatsTotal=this.overviewData.seatsTotal+o,this.isGoogleSeatOrderPending=!0,this.usersUpdated=!0,this.snackbarService.openSuccess("Your order for "+o+" additional user(s) is processing and may take up to 24 hours before it's ready to use."))}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](ne),s["\u0275\u0275directiveInject"](r.c),s["\u0275\u0275directiveInject"](a.UserService),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](a.SnackbarService),s["\u0275\u0275directiveInject"](a.SessionStorageService))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["lz-google-workspace-overview"]],inputs:{isGlobalSuspended:"isGlobalSuspended",overviewData:"overviewData"},outputs:{reloadOverview:"reloadOverview"},decls:43,vars:23,consts:[[1,"gw-overview"],[3,"ctbVal","accountId","productCode","parentProdInstId","bannerId","domainList","sourceLocation","pegaData","noOfUsers","isUpgradePlan","planName","purchaseTermUnit","onClose","onPurchase"],["fxLayout","column","role","region","aria-label","Google Workspace Overview Section",1,"Card"],["fxLayout","row","fxLayout.xs","column",1,"u-flexSpaceBetween","u-flexAlignCenter","u-marginBn"],["ngClass.lt-sm","u-flexAlignSelfStart",1,"mat-h3","reg-ldd-overview-title"],["fxLayout","row","fxLayout.xs","column",1,"u-flexSpaceBetween","u-marginBl"],["fxLayout","column","fxFlex","33","fxFlex.xs","100"],["ngClass.lt-sm","u-flexAlignSelfStart",1,"mat-h4","reg-ldd-overview-status-heading","u-marginBm-8"],["ngClass.xs","info-wrapper",1,"u-marginBx2"],[4,"ngFor","ngForOf"],["ngClass.lt-sm","u-flexAlignSelfStart",1,"mat-h4","reg-ldd-overview-renewal-settings","u-marginBm-8"],[1,"u-textSize14","u-textGrey","u-textWeight400"],["class","u-textSize14 u-textWeight400 u-textLink--underlined custom-link",3,"ngClass","click",4,"ngIf"],["class","u-paddingT-15",4,"ngIf"],[1,"u-textSize14","u-textGrey","u-textWeight400","u-textLowercase"],["ngClass.gt-xs","gw-overview-separator"],["ngClass.xs","u-marginAn"],["ngClass.lt-sm","u-flexAlignSelfStart","ngClass.xs","u-marginTxl",1,"mat-h4","reg-ldd-overview-renewal-settings","u-marginBm-8"],["ngClass.xs","u-marginBx2"],["fxLayout","row","ngClass.xs","info-wrapper u-marginBl",4,"ngFor","ngForOf"],[1,"user-assignment-section"],["mode","determinate",3,"value"],[1,"u-textSize14","u-textGrey","u-textWeight400","u-marginTm"],[3,"gwInfoCharm"],[4,"ngIf"],["mat-flat-button","","color","primary",1,"reg-accounts-user-mange-btn",3,"click"],[1,"u-textSize14","u-textWeight400","u-textLink--underlined","custom-link",3,"ngClass","click"],[1,"u-paddingT-15"],[1,"u-textSize14","text-warning"],["fxLayout","row","ngClass.xs","info-wrapper u-marginBl"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"app-ctb-wrapper",1),s["\u0275\u0275listener"]("onClose",(function(){return t.onCtbClose()}))("onPurchase",(function(e){return t.onCtbPurchase(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"div",3),s["\u0275\u0275elementStart"](4,"h2",4),s["\u0275\u0275text"](5,"Overview"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",5),s["\u0275\u0275elementStart"](7,"div",6),s["\u0275\u0275elementStart"](8,"h4",7),s["\u0275\u0275text"](9," Status"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",8),s["\u0275\u0275template"](11,Oe,3,2,"div",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"h4",10),s["\u0275\u0275text"](13," Google Workspace Plan "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",8),s["\u0275\u0275elementStart"](15,"span",11),s["\u0275\u0275text"](16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](17,_e,2,1,"a",12),s["\u0275\u0275template"](18,De,3,0,"div",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"h4",10),s["\u0275\u0275text"](20," Domain Assigned "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",8),s["\u0275\u0275elementStart"](22,"span",14),s["\u0275\u0275text"](23),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"div",15),s["\u0275\u0275element"](25,"hr",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"div",6),s["\u0275\u0275elementStart"](27,"h4",17),s["\u0275\u0275text"](28," Renewal Settings "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",18),s["\u0275\u0275template"](30,Ae,2,1,"div",19),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"div",15),s["\u0275\u0275element"](32,"hr",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"div",6),s["\u0275\u0275elementStart"](34,"h4",17),s["\u0275\u0275text"](35," Users "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"div"),s["\u0275\u0275elementStart"](37,"div",20),s["\u0275\u0275element"](38,"mat-progress-bar",21),s["\u0275\u0275elementStart"](39,"div",22),s["\u0275\u0275text"](40),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](41,ke,3,1,"div",13),s["\u0275\u0275template"](42,Ne,3,0,"div",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ctbVal",t.ctbData.ctbVal)("accountId",t.ctbData.accountId)("productCode",t.ctbData.productCode)("parentProdInstId",t.ctbData.parentProdInstId)("bannerId",t.ctbData.bannerId)("domainList",t.ctbData.domainList)("sourceLocation",t.ctbData.sourceLocation)("pegaData",t.ctbData.pegaData)("noOfUsers",t.ctbData.noOfUsers)("isUpgradePlan",t.ctbData.isUpgradePlan)("planName",t.ctbData.planName)("purchaseTermUnit",t.ctbData.purchaseTermUnit),s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("ngForOf",t.gwStatusCharms),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",t.gwPlan," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!("Business Starter"!==t.gwPlan&&"Business Standard"!==t.gwPlan||"Suspended"===t.overviewData.status||"Expired"===t.overviewData.status||t.isGoogleSeatOrderPending||t.isUpgradePlanOrderPending||t.overviewData.isDowngradePlanOrderPending||t.overviewData.isSeatDecreaseOrderPending)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isUpgradePlanOrderPending||t.overviewData.isDowngradePlanOrderPending),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",t.overviewData.domain," "),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngForOf",t.gwRenewalCharms),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("value",t.progressValue),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate2"](" ",t.overviewData.seatsUsed," of ",t.overviewData.seatsTotal," users assigned "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.shouldShowAddMoreUserCTBAction&&!t.isGoogleSeatOrderPending&&!t.isUpgradePlanOrderPending&&!t.isGlobalSuspended&&"Expired"!==t.overviewData.status&&!t.overviewData.isSeatDecreaseOrderPending),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isGoogleSeatOrderPending||t.overviewData.isSeatDecreaseOrderPending))},directives:[x.f,w.a,x.b,S.s,S.t,fe.a,Ie,f.b,S.q],styles:[".gw-overview[_ngcontent-%COMP%]   .Card[_ngcontent-%COMP%]{margin:0}.gw-overview[_ngcontent-%COMP%]   .reg-ldd-overview-title[_ngcontent-%COMP%]{color:#000}.gw-overview[_ngcontent-%COMP%]   .gw-overview-separator[_ngcontent-%COMP%]{visibility:hidden;clear:both;display:none}.gw-overview[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%], .gw-overview[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]{height:24px}.gw-overview[_ngcontent-%COMP%]   .mat-button-disabled[_ngcontent-%COMP%]{background:none}.gw-overview[_ngcontent-%COMP%]   .user-assignment-section[_ngcontent-%COMP%]{width:auto}@media only screen and (min-width:1280px){.gw-overview[_ngcontent-%COMP%]   .user-assignment-section[_ngcontent-%COMP%]{width:250px}}.gw-overview[_ngcontent-%COMP%]   .link-disabled[_ngcontent-%COMP%]{color:var(--dc-theme-grey--light1);pointer-events:none}.gw-overview[_ngcontent-%COMP%]   .text-warning[_ngcontent-%COMP%]{color:var(--dc-theme-warning--dark);pointer-events:none}.custom-link[_ngcontent-%COMP%]{color:var(--amm-theme-primary--dark1)!important}@media only screen and (max-width:599px){.gw-overview[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%], .gw-overview[_ngcontent-%COMP%]   .info-wrapper[_ngcontent-%COMP%]{height:auto}}"]}),e})(),Le=(()=>{class e{constructor(e,t,n,a){this.productApiService=e,this.snackbar=t,this.sessionApiService=n,this.brandService=a,this.isLoading=!0}ngOnInit(){const e=document.createElement("script");this.brandName=this.brandService.BrandName(),this.sessionApiService.getEnvironment().subscribe(t=>{var n,a,r;switch(this.environment=t,this.environment){case"PROD":e.src="https://production.ui.nf-rosetta.com/rosetta-include-component.js";break;case"STG":e.src="https://beta.frontend-svcs.rosetta-dns.net/rosetta-include-component.js",this.overviewData.assignedDomain="Domain.com"===this.brandName||"Web.com"===this.brandName?null===(n=this.overviewData)||void 0===n?void 0:n.assignedDomain:"goog-test.reseller.enduranceinternational.com."+(null===(a=this.overviewData)||void 0===a?void 0:a.assignedDomain);break;case"DEV":case"QA":case"QA2":e.src="https://qa.frontend-svcs.rosetta-dns.net/rosetta-include-component.js",this.overviewData.assignedDomain="goog-test.reseller.enduranceinternational.com."+(null===(r=this.overviewData)||void 0===r?void 0:r.assignedDomain)}}),e.type="text/javascript",e.async=!0,document.getElementsByTagName("body")[0].appendChild(e),e.onload=()=>this.getUJWTV1()}getProductJWTInfo(){this.productApiService.getAMJWTKeyForProduct(!1,this.overviewData.productInstanceId,this.overviewData.productCode).subscribe(e=>{e?(this.jwtToken=e.a_token,this.userDomain=e.domain,this.loadNextScript()):(this.snackbar.openError(),this.isLoading=!1)})}getUJWTV1(){var e;this.productApiService.getUJWT(null,null===(e=this.overviewData)||void 0===e?void 0:e.productInstanceId).subscribe(e=>{var t,n;(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.a_token)?(this.jwtToken=e.data.a_token,this.userDomain=null===(n=this.overviewData)||void 0===n?void 0:n.assignedDomain,this.loadNextScript()):(this.snackbar.openError(),this.isLoading=!1)})}loadNextScript(){const e={palette:{primary:{main:"#40349D",light:"#5D58B0",dark:"#403D7A"},secondary:{main:"#1164f3",light:"#e7effe",dark:"#0e50c2"},success:{main:"#3c37a4",light:"#ebf9ed",dark:"#4b45cd"},warning:{main:"#ff9800",light:"#fff3E7",dark:"#62240e"},error:{main:"#E84A50",light:"#ffebea",dark:"#701116"},background:{paper:"#FFFFFF",default:"#FFFFFF"},grey:{300:"#cccccc",500:"#a3a3a3",600:"#7c7c7c"},text:{primary:"#404040"}},typography:{fontSize:14,fontFamily:"'Open Sans', Helvetica, sans-serif",h2:{fontFamily:"'Open Sans', Helvetica, sans-serif"}}};Rosetta.appendComponentScripts("google-user-table@1").then(()=>{const t={token:this.jwtToken,data:{domain:this.userDomain,apiBaseUrl:"https://rosetta.networksolutions.com"},callbacks:{refreshAccessToken:()=>new Promise((e,t)=>{this.isLoading=!0,this.productApiService.getUJWT(null,this.overviewData.productInstanceId).subscribe(t=>{var n;(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.a_token)?(this.jwtToken=t.data.a_token,e(this.jwtToken),this.isLoading=!1):(this.snackbar.openError(),this.isLoading=!1)},e=>{t(e)})}),handleInitErrors:()=>{}},element:document.getElementById("rc-user-table")};"Web.com"===this.brandName&&(t.theme=e),GoogleUserTable.init(t)}),this.isLoading=!1}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](i.ProductApiService),s["\u0275\u0275directiveInject"](a.SnackbarService),s["\u0275\u0275directiveInject"](i.SessionAPIService),s["\u0275\u0275directiveInject"](a.BrandService))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["lz-google-workspace-users"]],inputs:{overviewData:"overviewData"},decls:3,vars:1,consts:[["role","main","id","user-table","loaderSplash","",1,"rc-user-table","u-marginVl",3,"loader"],[1,"container","reg-lz-gw-users-table"],["id","rc-user-table"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"main",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275element"](2,"div",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("loader",t.isLoading)},directives:[c.a],styles:[""]}),e})();function Ue(e,t){if(1&e&&s["\u0275\u0275element"](0,"immediate-attention",4),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("attention",e.immediateAttention)}}function Re(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",9),s["\u0275\u0275element"](1,"shared-tech-user-chip",10),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("hasTechToolTip",e.isTechUser)("toolTipMessage",e.toolTipMessage)}}function Be(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",11),s["\u0275\u0275elementStart"](1,"button",12),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).loginToWorkspace()})),s["\u0275\u0275text"](2,"login to workspace"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("disabled",e.isDeactivated)}}function Fe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",5),s["\u0275\u0275elementStart"](1,"div",6),s["\u0275\u0275elementStart"](2,"span"),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](4,Re,2,2,"div",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](5,Be,3,1,"div",8),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate2"]("",e.gwOverviewData.productName," for ",e.gwOverviewData.domain,""),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.isTechUser),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!e.isLoading&&e.gwOverviewData.productInstanceId)}}function We(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275element"](1,"lz-google-workspace-users",17),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("overviewData",e.gwOverviewData)}}function Ge(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",13),s["\u0275\u0275elementStart"](1,"div",14),s["\u0275\u0275elementStart"](2,"lz-google-workspace-overview",15),s["\u0275\u0275listener"]("reloadOverview",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().reloadOverviewData()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](3,We,2,1,"div",16),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("overviewData",e.gwOverviewData)("isGlobalSuspended",e.isDeactivated),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.showRosettaUI)}}let je=(()=>{class e{constructor(e,t,n,a,r,i,s,c,l){this.accountAPIService=e,this.productApiService=t,this.userApiService=n,this.route=a,this.snackbar=r,this.userService=i,this.brandService=s,this.googleWorkspaceImmediateAttentionFactory=c,this.router=l,this.isTechUser=!1,this.isLoading=!0,this.googleWorkspaceUrl="https://admin.google.com",this.showRosettaUI=!1,this.router.events.subscribe(e=>{e instanceof o.b&&window.scrollTo(0,0)})}ngOnInit(){this.brandName=this.brandService.BrandName(),this.getProductDetails()}reloadOverviewData(){this.isLoading=!0,this.getProductDetails()}getProductDetails(){this.instanceID=this.route.snapshot.queryParams.instanceId,this.productCode=this.route.snapshot.queryParams.productCode,this.productApiService.getProductDetails(this.instanceID,this.productCode).subscribe(e=>{if("Failure"===e.responseInfo.status)return this.isLoading=!1,void this.snackbar.openError();{const t=e.data;if(t){this.gwOverviewData=t,this.gwOverviewData.isGWProductConfigured&&(this.showRosettaUI=!0),this.isDeactivated="SUSPENDED_GLOBAL"===t.suspendedReason;const e=this.googleWorkspaceImmediateAttentionFactory.createAttention(t);"Web.com"===this.brandName?(this.immediateAttention=e.title&&!this.isDeactivated?e:null,"TWENTYEIGHTDAY"===this.gwOverviewData.purchaseTermUnit&&(this.gwOverviewData.purchaseTermUnit="MONTH")):this.immediateAttention=e.title&&!this.isDeactivated?e:null,this.toolTipMessage=a.toolTipMessage.googleworkspaceTechUserToolTipWithProduct(t),this.gwPlan=t.productName.split("Google Workspace ")[1],this.getUserFullDetails()}else this.snackbar.openError()}})}getUserFullDetails(){this.userApiService.getUserInfoFullDetails().subscribe(e=>{this.isTechUser=e.isTechContactUser,this.gwOverviewData.isTechUser=this.isTechUser,this.userService.emitTechuser(this.isTechUser),this.isLoading=!1})}loginToWorkspace(){window.open(this.googleWorkspaceUrl,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](i.AccountAPIService),s["\u0275\u0275directiveInject"](i.ProductApiService),s["\u0275\u0275directiveInject"](i.UserAPIService),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](a.SnackbarService),s["\u0275\u0275directiveInject"](a.UserService),s["\u0275\u0275directiveInject"](a.BrandService),s["\u0275\u0275directiveInject"](a.GoogleWorkspaceImmediateAttentionFactory),s["\u0275\u0275directiveInject"](o.d))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["lz-google-workspace-details"]],decls:4,vars:4,consts:[["role","main","loaderSplash","",1,"gw-content",3,"loader"],[3,"attention",4,"ngIf"],["fxLayout","row","fxLayout.lt-md","column","fxLayoutAlign","start","fxLayoutAlign.xs","start space-between","class","u-flexAlignSelfStart",4,"ngIf"],["fxLayout","column","fxLayout.xs","column","fxLayoutGap","0px",4,"ngIf"],[3,"attention"],["fxLayout","row","fxLayout.lt-md","column","fxLayoutAlign","start","fxLayoutAlign.xs","start space-between",1,"u-flexAlignSelfStart"],["fxLayout","row","fxLayout.lt-md","column","ngClass.gt-xs","u-paddingR-24",1,"mat-display-5","u-flexAlignSelfStart"],["class","tech-user-wrap","ngClass.gt-xs","u-paddingL18 u-paddingTs","ngClass.xs","u-paddingTxl u-paddingBl",4,"ngIf"],["class","u-flexGrow","fxLayoutAlign","end start",4,"ngIf"],["ngClass.gt-xs","u-paddingL18 u-paddingTs","ngClass.xs","u-paddingTxl u-paddingBl",1,"tech-user-wrap"],[3,"hasTechToolTip","toolTipMessage"],["fxLayoutAlign","end start",1,"u-flexGrow"],["ngClass.xs","u-fullWidth","mat-flat-button","","color","secondary",1,"u-textNoWrap",3,"disabled","click"],["fxLayout","column","fxLayout.xs","column","fxLayoutGap","0px"],[1,"reg-gw-overview","u-marginTxl"],[3,"overviewData","isGlobalSuspended","reloadOverview"],[4,"ngIf"],[3,"overviewData"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"main",0),s["\u0275\u0275template"](1,Ue,1,1,"immediate-attention",1),s["\u0275\u0275template"](2,Fe,6,4,"div",2),s["\u0275\u0275template"](3,Ge,4,3,"div",3),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("loader",t.isLoading),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.isLoading),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.isLoading),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.isLoading&&t.gwOverviewData.productInstanceId))},directives:[c.a,S.t,q.a,x.f,x.e,w.a,Y.a,f.b,x.g,Me,Le],styles:[".gw-content[_ngcontent-%COMP%]{min-height:calc(100vh - 250px);padding:54px 40px 24px 24px}@media only screen and (max-width:959px){.gw-content[_ngcontent-%COMP%]{padding:25px 8px 60px}}"]}),e})();const ze=[{path:"",component:l,canActivate:[a.LoginGuard]},{path:"google-workspace-list",component:H,canActivate:[a.LoginGuard]},{path:"google-workspace-details",component:je,canActivate:[a.LoginGuard]}];let Ve=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.h.forChild(ze)],o.h]}),e})(),He=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[{provide:r.b,useValue:Object.assign(Object.assign({},new r.f),{autoFocus:!1,restoreFocus:!1})}],imports:[[Ve,a.SharedModule]]}),e})()}}]);